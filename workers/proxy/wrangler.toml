name = "fitghost-proxy"
main = "src/index.js"
compatibility_date = "2024-10-01"
account_id = "081a9810680543ee912eb54ae15876a3"

# Gemini API는 특정 지역에서만 사용 가능 (미국 동부)
# Smart Placement 대신 명시적 위치 설정
# [placement]
# mode = "smart"

# Cloudflare account and routes can be set via env/flags at deploy time
# account_id = "<your-account-id>"
# route = { pattern = "emozleep-presign.vinny4920-081.workers.dev", custom_domain = false }

[vars]
# CDN root that hosts public model files (no trailing slash)
CDN_BASE = "https://cdn.emozleep.space/models"
# Comma-separated allowlist or "*". Android 앱은 일반적으로 CORS 제약이 약하지만 정책상 명시 유지
ALLOWED_ORIGINS = "*"
ALLOWED_FILES = "models/LFM2-1.2B-Q4_0.gguf"

# API Keys (프로덕션에서는 Secrets 사용)
# GEMINI_API_KEY: Google Cloud 통합 키 (Gemini, 구글 검색, 나노바나나 모두 사용)
# NAVER_CLIENT_ID/SECRET: 네이버 쇼핑 검색
# GOOGLE_CSE_CX: 구글 커스텀 검색 엔진 ID

[[r2_buckets]]
binding = "R2"
bucket_name = "deepsleep-models"
# preview_bucket_name may be omitted; wrangler will use the same bucket

# Secrets to set (do NOT commit values):
# wrangler secret put GEMINI_API_KEY        # Google Cloud 통합 키 (필수)
# wrangler secret put NAVER_CLIENT_ID       # 네이버 검색 (필수)
# wrangler secret put NAVER_CLIENT_SECRET   # 네이버 검색 (필수)
# wrangler secret put GOOGLE_CSE_CX         # 구글 검색 엔진 ID (필수)
